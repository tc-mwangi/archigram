{%extends 'main/base.html'%}
{%load bootstrap4%}
{% load static %}

{%block content%}
{{block.supper}}

<div id="content" class="container">
    <div class="col-sm-6 col-sm-offset-3">
        <h1>Timeline</h1>
        {% if photos %}
            {% for photo in photos %}
                <div class="panel panel-default panel-post">
                    <div class="panel-heading">
                        {% if photo.author.member.image.url %}
                            <img
                                src="{{photo.author.member.image.url}}"
                                alt="avatar"
                                class="img-avatar img-thumbnail">
                        {% else %}
                            <img
                                src="{%static 'user.png'%}"
                                alt="dp"
                                class="img-avatar img-thumbnail">
                        {% endif %}
                        <span class="panel-title">{{photo.author.username}}</span>
                        <span class="pull-right">{{photo.created|timesince}}</span>
                        <p>{{photo.member}}</p>
                    </div>
                    <div class="panel-body">
                        <img src="{{photo.image.url}}" alt="post" />
                    </div>
                    <div class="panel-footer">
                        <p><strong>{{photo.like_set.all.count}}</strong> likes</p>
                        <p>
                            <strong>{{photo.owner.username}}</strong>
                            &nbsp;{{photo.caption}}
                        </p>
                        {% for comment in photo.comment_set.all %}
                            <p class="photo-comment">
                                <strong>{{comment.owner}}</strong>
                                &nbsp;{{comment.text}}
                            </p>
                        {% endfor %}
                        <hr />
                        <div class="input-group input-group-sm">
                            {# Like photo button #}

                            <span
                                data-pid="{{photo.id}}"
                                data-url="{% url 'like_photo' %}"
                                {% if photo.pk in liked_photos %}
                                    class="input-group-addon like-button liked_photo"
                                {% else %}
                                    class="input-group-addon like-button"
                                {% endif %}
                                >
                                <span class="glyphicon glyphicon-heart"></span>
                            </span>

                            {# Comment text box #}
                            <form
                                method="post"
                                action="{% url 'post_photo_comment' %}"
                                class="comment-form">
                            {% csrf_token %}
                                <input
                                    type="hidden"
                                    name="photo_id"
                                    value="{{photo.id}}" />
                                <input
                                    name="comment_text"
                                    type="text"
                                    class="form-control"
                                    placeholder="Say something..."
                                    aria-describedby="sizing-addon3" />
                            </form>

                        </div>
                    </div>
                </div>
            {% endfor %}
        {% else %}
            <div class="alert alert-info">
                You are not following any users. <a href="{% url 'users' %}">Follow</a> users to view photos.
            </div>
            <!-- default -->

<div class="panel panel-default panel-post">
        <div class="panel-heading">
                <img
                    src="{%static 'user.png'%}"
                    alt="avatar"
                    class="img-avatar img-thumbnail">
            <span class="panel-title">username</span>
            <span class="pull-right">timestamp</span>
            <p>photo.member</p>
        </div>
        <div class="panel-body">
            <img src="{%static 'user.png'%}" alt="post" />
        </div>
        <div class="panel-footer">
            <p><strong>likes count</strong> likes</p>
            <p>
                <strong>username</strong>
                &nbsp;caption
            </p>
            
                <p class="photo-comment">
                    <strong>author</strong>
                    &nbsp;text
                </p>
            
            <hr />
            <div class="input-group input-group-sm">
                

                <span
                    data-pid=""
                    data-url=""
                    
                        class="input-group-addon like-button liked_photo"
                    
                        class="input-group-addon like-button"
                   
                    >
                    <span class="glyphicon glyphicon-heart"></span>
                </span>

               
                <form
                    method="post"
                    action=""
                    class="comment-form">
                
                    <input
                        type="hidden"
                        name=""
                        value="" />
                    <input
                        name="comment_text"
                        type="text"
                        class="form-control"
                        placeholder="Comment..."
                        aria-describedby="sizing-addon3" />
                </form>

            </div>
        </div>
    </div>
            
        {% endif %}

    </div>

</div>

{%endblock%}




<div class="panel panel-default panel-post">
        <div class="panel-heading">
                <img
                    src="{%static 'user.png'%}"
                    alt="avatar"
                    class="img-avatar img-thumbnail">
            <span class="panel-title">username</span>
            <span class="pull-right">timestamp</span>
            <p>photo.member</p>
        </div>
        <div class="panel-body">
            <img src="{%static 'user.png'%}" alt="post" />
        </div>
        <div class="panel-footer">
            <p><strong>likes count</strong> likes</p>
            <p>
                <strong>username</strong>
                &nbsp;caption
            </p>
            
                <p class="photo-comment">
                    <strong>author</strong>
                    &nbsp;text
                </p>
            
            <hr />
            <div class="input-group input-group-sm">
                

                <span
                    data-pid=""
                    data-url=""
                    
                        class="input-group-addon like-button liked_photo"
                    
                        class="input-group-addon like-button"
                   
                    >
                    <span class="glyphicon glyphicon-heart"></span>
                </span>

               
                <form
                    method="post"
                    action=""
                    class="comment-form">
                
                    <input
                        type="hidden"
                        name=""
                        value="" />
                    <input
                        name="comment_text"
                        type="text"
                        class="form-control"
                        placeholder="Say something..."
                        aria-describedby="sizing-addon3" />
                </form>

            </div>
        </div>
    </div>

